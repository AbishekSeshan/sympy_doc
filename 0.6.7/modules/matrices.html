<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Matrices (linear algebra) &mdash; SymPy v0.6.7 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.6.7',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="SymPy v0.6.7 documentation" href="../index.html" />
    <link rel="up" title="SymPy Modules Reference" href="index.html" />
    <link rel="next" title="Welcome to mpmath’s documentation!" href="mpmath/index.html" />
    <link rel="prev" title="Logic Module" href="logic.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="mpmath/index.html" title="Welcome to mpmath’s documentation!"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="logic.html" title="Logic Module"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">SymPy v0.6.7 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">SymPy Modules Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-sympy.matrices.matrices">
<h1>Matrices (linear algebra)<a class="headerlink" href="#module-sympy.matrices.matrices" title="Permalink to this headline">¶</a></h1>
<div class="section" id="creating-matrices">
<h2>Creating Matrices<a class="headerlink" href="#creating-matrices" title="Permalink to this headline">¶</a></h2>
<p>The linear algebra module is designed to be as simple as possible. First, we
import and declare our first Matrix object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">displayhook</span> <span class="o">=</span> <span class="n">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.matrices</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="go">[1  0]</span>
<span class="go">[    ]</span>
<span class="go">[0  1]</span>
</pre></div>
</div>
<p>This is the standard manner one creates a matrix, i.e. with a list of
appropriately-sizes lists. SymPy also supports more advanced methods of matrix
creation including a single list of values and dimension inputs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="go">[1  2  3]</span>
<span class="go">[       ]</span>
<span class="go">[4  5  6]</span>
</pre></div>
</div>
<p>More interestingly (and usefully), we can use a 2-variable function (or lambda)
to make one. Here we create an indicator function which is 1 on the diagonal
and then use it to make the identity matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span> <span class="mi">0</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="go">[1  0  0  0]</span>
<span class="go">[          ]</span>
<span class="go">[0  1  0  0]</span>
<span class="go">[          ]</span>
<span class="go">[0  0  1  0]</span>
<span class="go">[          ]</span>
<span class="go">[0  0  0  1]</span>
</pre></div>
</div>
<p>Finally let&#8217;s use lambda to create a 1-line matrix with 1&#8217;s in the even
permutation entries:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[1  0  1  0]</span>
<span class="go">[          ]</span>
<span class="go">[0  1  0  1]</span>
<span class="go">[          ]</span>
<span class="go">[1  0  1  0]</span>
</pre></div>
</div>
<p>There are also a couple of special constructors for quick matrix construction -
<tt class="docutils literal"><span class="pre">eye</span></tt> is the identity matrix, <tt class="docutils literal"><span class="pre">zeros</span></tt> and <tt class="docutils literal"><span class="pre">ones</span></tt> for matrices of all
zeros and ones, respectively:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[1  0  0  0]</span>
<span class="go">[          ]</span>
<span class="go">[0  1  0  0]</span>
<span class="go">[          ]</span>
<span class="go">[0  0  1  0]</span>
<span class="go">[          ]</span>
<span class="go">[0  0  0  1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[0  0]</span>
<span class="go">[    ]</span>
<span class="go">[0  0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">[0  0  0  0  0]</span>
<span class="go">[             ]</span>
<span class="go">[0  0  0  0  0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[1  1  1]</span>
<span class="go">[       ]</span>
<span class="go">[1  1  1]</span>
<span class="go">[       ]</span>
<span class="go">[1  1  1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ones</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">[1  1  1]</span>
</pre></div>
</div>
</div>
<div class="section" id="basic-manipulation">
<h2>Basic Manipulation<a class="headerlink" href="#basic-manipulation" title="Permalink to this headline">¶</a></h2>
<p>While learning to work with matrices, let&#8217;s choose one where the entries are
readily identifiable. One useful thing to know is that while matrices are
2-dimensional, the storage is not and so it is allowable - though one should be
careful - to access the entries as if they were a 1-d list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Now, the more standard entry access is a pair of indices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Since this is Python we&#8217;re also able to slice submatrices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[1  2]</span>
<span class="go">[    ]</span>
<span class="go">[4  5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[6]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[3]</span>
<span class="go">[ ]</span>
<span class="go">[6]</span>
</pre></div>
</div>
<p>Remember in the 2nd example above that slicing 2:2 gives an empty range and
that, as in python, a 4 column list is indexed from 0 to 3. In particular, this
mean a quick way to create a copy of the matrix is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span> <span class="o">=</span> <span class="n">M</span><span class="p">[:,:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[1  2  3]</span>
<span class="go">[       ]</span>
<span class="go">[4  5  6]</span>
</pre></div>
</div>
<p>See? Changing M2 didn&#8217;t change M. Since we can slice, we can also assign
entries:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">],[</span><span class="mi">13</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[1   2   3   4 ]</span>
<span class="go">[              ]</span>
<span class="go">[5   6   7   8 ]</span>
<span class="go">[              ]</span>
<span class="go">[9   10  11  12]</span>
<span class="go">[              ]</span>
<span class="go">[13  14  15  16]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[1   2   3   0 ]</span>
<span class="go">[              ]</span>
<span class="go">[5   6   7   8 ]</span>
<span class="go">[              ]</span>
<span class="go">[9   10  0   12]</span>
<span class="go">[              ]</span>
<span class="go">[13  14  15  16]</span>
</pre></div>
</div>
<p>as well as assign slices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">],[</span><span class="mi">13</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="mi">2</span><span class="p">:,</span><span class="mi">2</span><span class="p">:]</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[1   2   3  4]</span>
<span class="go">[            ]</span>
<span class="go">[5   6   7  8]</span>
<span class="go">[            ]</span>
<span class="go">[9   10  0  0]</span>
<span class="go">[            ]</span>
<span class="go">[13  14  0  0]</span>
</pre></div>
</div>
<p>All the standard arithmetic operations are supported:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">-</span> <span class="n">M</span>
<span class="go">[0  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">+</span> <span class="n">M</span>
<span class="go">[2   4   6 ]</span>
<span class="go">[          ]</span>
<span class="go">[8   10  12]</span>
<span class="go">[          ]</span>
<span class="go">[14  16  18]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">*</span> <span class="n">M</span>
<span class="go">[30   36   42 ]</span>
<span class="go">[             ]</span>
<span class="go">[66   81   96 ]</span>
<span class="go">[             ]</span>
<span class="go">[102  126  150]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">*</span><span class="n">M2</span>
<span class="go">[11]</span>
<span class="go">[  ]</span>
<span class="go">[29]</span>
<span class="go">[  ]</span>
<span class="go">[47]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">**</span><span class="mi">2</span>
<span class="go">[30   36   42 ]</span>
<span class="go">[             ]</span>
<span class="go">[66   81   96 ]</span>
<span class="go">[             ]</span>
<span class="go">[102  126  150]</span>
</pre></div>
</div>
<p>As well as some useful vector operations:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">row_del</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[4  5  6]</span>
<span class="go">[       ]</span>
<span class="go">[7  8  9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">col_del</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[4  6]</span>
<span class="go">[    ]</span>
<span class="go">[7  9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">=</span> <span class="n">v1</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span>
<span class="go">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">v3</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">v3</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Recall that the row_del() and col_del() operations don&#8217;t return a value - they
simply change the matrix object. We can also &#8216;&#8217;glue&#8217;&#8217; together matrices of the
appropriate size:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">row_join</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="go">[1  0  0  0  0  0  0]</span>
<span class="go">[                   ]</span>
<span class="go">[0  1  0  0  0  0  0]</span>
<span class="go">[                   ]</span>
<span class="go">[0  0  1  0  0  0  0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M3</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">col_join</span><span class="p">(</span><span class="n">M3</span><span class="p">)</span>
<span class="go">[1  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  1  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  1]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  0]</span>
</pre></div>
</div>
</div>
<div class="section" id="operations-on-entries">
<h2>Operations on entries<a class="headerlink" href="#operations-on-entries" title="Permalink to this headline">¶</a></h2>
<p>We are not restricted to having multiplication between two matrices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">2</span><span class="o">*</span><span class="n">M</span>
<span class="go">[2  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  2  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">3</span><span class="o">*</span><span class="n">M</span>
<span class="go">[3  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  3  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  3]</span>
</pre></div>
</div>
<p>but we can also apply functions to our matrix entries using applyfunc(). Here we&#8217;ll declare a function that double any input number. Then we apply it to the 3x3 identity matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">applyfunc</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">[2  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  2  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  2]</span>
</pre></div>
</div>
<p>One more useful matrix-wide entry application function is the substitution function. Let&#8217;s declare a matrix with symbolic entries then substitute a value. Remember we can substitute anything - even another symbol!:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Symbol</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[x  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  x  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  x]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[4  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  4  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">[y  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  y  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  y]</span>
</pre></div>
</div>
</div>
<div class="section" id="linear-algebra">
<h2>Linear algebra<a class="headerlink" href="#linear-algebra" title="Permalink to this headline">¶</a></h2>
<p>Now that we have the basics out of the way, let&#8217;s see what we can do with the
actual matrices. Of course the first things that come to mind are the basics
like the determinant:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">((</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">det</span><span class="p">()</span>
<span class="go">-28</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span> <span class="o">=</span> <span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">det</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M3</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">((</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M3</span><span class="o">.</span><span class="n">det</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
<p>and the inverse. In SymPy the inverse is computed by Gaussian elimination by
default but we can specify it be done by LU decomposition as well:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">inv</span><span class="p">()</span>
<span class="go">[1  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  1  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="s">&quot;LU&quot;</span><span class="p">)</span>
<span class="go">[1  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  1  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="s">&quot;LU&quot;</span><span class="p">)</span>
<span class="go">[-3/14  1/14  1/2 ]</span>
<span class="go">[                 ]</span>
<span class="go">[-1/28  5/28  -1/4]</span>
<span class="go">[                 ]</span>
<span class="go">[ 3/7   -1/7   0  ]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">*</span> <span class="n">M</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="s">&quot;LU&quot;</span><span class="p">)</span>
<span class="go">[1  0  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  1  0]</span>
<span class="go">[       ]</span>
<span class="go">[0  0  1]</span>
</pre></div>
</div>
<p>We can perform a QR factorization which is handy for solving systems:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">QRdecomposition</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span>
<span class="go">[  ___     ___     ___]</span>
<span class="go">[\/ 6   -\/ 3   -\/ 2 ]</span>
<span class="go">[-----  ------  ------]</span>
<span class="go">[  6      3       2   ]</span>
<span class="go">[                     ]</span>
<span class="go">[  ___     ___    ___ ]</span>
<span class="go">[\/ 6   -\/ 3   \/ 2  ]</span>
<span class="go">[-----  ------  ----- ]</span>
<span class="go">[  6      3       2   ]</span>
<span class="go">[                     ]</span>
<span class="go">[  ___    ___         ]</span>
<span class="go">[\/ 6   \/ 3          ]</span>
<span class="go">[-----  -----     0   ]</span>
<span class="go">[  3      3           ]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R</span>
<span class="go">[           ___         ]</span>
<span class="go">[  ___  4*\/ 6       ___]</span>
<span class="go">[\/ 6   -------  2*\/ 6 ]</span>
<span class="go">[          3            ]</span>
<span class="go">[                       ]</span>
<span class="go">[          ___          ]</span>
<span class="go">[        \/ 3           ]</span>
<span class="go">[  0     -----      0   ]</span>
<span class="go">[          3            ]</span>
<span class="go">[                       ]</span>
<span class="go">[                   ___ ]</span>
<span class="go">[  0       0      \/ 2  ]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span><span class="o">*</span><span class="n">R</span>
<span class="go">[1  1  1]</span>
<span class="go">[       ]</span>
<span class="go">[1  1  3]</span>
<span class="go">[       ]</span>
<span class="go">[2  3  4]</span>
</pre></div>
</div>
<p>In addition to the solvers in the solver.py file, we can solve the system Ax=b
by passing the b vector to the matrix A&#8217;s LUsolve function. Here we&#8217;ll cheat a
little choose A and x then multiply to get b. Then we can solve for x and check
that it&#8217;s correct:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">A</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">soln</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LUsolve</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">soln</span>
<span class="go">[3]</span>
<span class="go">[ ]</span>
<span class="go">[7]</span>
<span class="go">[ ]</span>
<span class="go">[5]</span>
</pre></div>
</div>
<p>There&#8217;s also a nice Gram-Schmidt orthogonalizer which will take a set of
vectors and orthogonalize then with respect to another another. There is an
optional argument which specifies whether or not the output should also be
normalized, it defaults to False. Let&#8217;s take some vectors and orthogonalize
them - one normalized and one not:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">Matrix</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)),</span> <span class="n">Matrix</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span> <span class="n">Matrix</span><span class="p">((</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span> <span class="o">=</span> <span class="n">GramSchmidt</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out2</span> <span class="o">=</span> <span class="n">GramSchmidt</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s take a look at the vectors:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">out1</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">i</span>
<span class="gp">...</span>
<span class="go">[2]</span>
<span class="go">[3]</span>
<span class="go">[5]</span>
<span class="go">[ 23/19]</span>
<span class="go">[ 63/19]</span>
<span class="go">[-47/19]</span>
<span class="go">[ 1692/353]</span>
<span class="go">[-1551/706]</span>
<span class="go">[ -423/706]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">out2</span><span class="p">:</span>
<span class="gp">... </span>     <span class="k">print</span> <span class="n">i</span> 
<span class="gp">...</span>
<span class="go">[2*(1/38)**(1/2)]</span>
<span class="go">[3*(1/38)**(1/2)]</span>
<span class="go">[5*(1/38)**(1/2)]</span>
<span class="go">[(23/19)*19**(1/2)*(1/353)**(1/2)]</span>
<span class="go">[(63/19)*19**(1/2)*(1/353)**(1/2)]</span>
<span class="go">[ -47/19*19**(1/2)*(1/353)**(1/2)]</span>
<span class="go">[(12/353)*706**(1/2)]</span>
<span class="go">[ -11/706*706**(1/2)]</span>
<span class="go">[  -3/706*706**(1/2)]</span>
</pre></div>
</div>
<p>We can spot-check their orthogonality with dot() and their normality with
norm():</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">out1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">out1</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">out1</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<p>So there is quite a bit that can be done with the module including eigenvalues,
eigenvectors, nullspace calculation, cofactor expansion tools, and so on. From
here one might want to look over the matrices.py file for all functionality.</p>
</div>
<div class="section" id="matrix-class-reference">
<h2>Matrix Class Reference<a class="headerlink" href="#matrix-class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="sympy.matrices.matrices.Matrix">
<em class="property">class </em><tt class="descclassname">sympy.matrices.matrices.</tt><tt class="descname">Matrix</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="sympy.matrices.matrices.Matrix.C">
<tt class="descname">C</tt><a class="headerlink" href="#sympy.matrices.matrices.Matrix.C" title="Permalink to this definition">¶</a></dt>
<dd>By-element conjugation.</dd></dl>

<dl class="attribute">
<dt id="sympy.matrices.matrices.Matrix.D">
<tt class="descname">D</tt><a class="headerlink" href="#sympy.matrices.matrices.Matrix.D" title="Permalink to this definition">¶</a></dt>
<dd>Dirac conjugation.</dd></dl>

<dl class="attribute">
<dt id="sympy.matrices.matrices.Matrix.H">
<tt class="descname">H</tt><a class="headerlink" href="#sympy.matrices.matrices.Matrix.H" title="Permalink to this definition">¶</a></dt>
<dd><p>Hermite conjugation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span><span class="p">,</span> <span class="n">I</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">Matrix</span><span class="p">(((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">+</span><span class="n">I</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>  
<span class="go">[1, 2 + I]</span>
<span class="go">[3,     4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">H</span> 
<span class="go">[    1, 3]</span>
<span class="go">[2 - I, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.LUdecomposition">
<tt class="descname">LUdecomposition</tt><big>(</big><em>iszerofunc=&lt;function _iszero at 0x3a63a28&gt;</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.LUdecomposition" title="Permalink to this definition">¶</a></dt>
<dd>Returns the decomposition LU and the row swaps p.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.LUdecompositionFF">
<tt class="descname">LUdecompositionFF</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.LUdecompositionFF" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 4 matrices P, L, D, U such that PA = L D**-1 U.</p>
<p>From the paper &#8220;fraction-free matrix factors...&#8221; by Zhou and Jeffrey</p>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.LUdecomposition_Simple">
<tt class="descname">LUdecomposition_Simple</tt><big>(</big><em>iszerofunc=&lt;function _iszero at 0x3a63a28&gt;</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.LUdecomposition_Simple" title="Permalink to this definition">¶</a></dt>
<dd>Returns A comprised of L,U (L&#8217;s diag entries are 1) and
p which is the list of the row swaps (in order).</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.LUsolve">
<tt class="descname">LUsolve</tt><big>(</big><em>rhs</em>, <em>iszerofunc=&lt;function _iszero at 0x3a63a28&gt;</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.LUsolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve the linear system Ax = b for x.
self is the coefficient matrix A and rhs is the right side b.</p>
<p>This is for symbolic matrices, for real or complex ones use
sympy.mpmath.lu_solve or sympy.mpmath.qr_solve.</p>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.QRdecomposition">
<tt class="descname">QRdecomposition</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.QRdecomposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Q,R where A = Q*R, Q is orthogonal and R is upper triangular.</p>
<p>Assumes full-rank square (for now).</p>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.QRsolve">
<tt class="descname">QRsolve</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.QRsolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve the linear system &#8216;Ax = b&#8217;.</p>
<p>&#8216;self&#8217; is the matrix &#8216;A&#8217;, the method argument is the vector
&#8216;b&#8217;.  The method returns the solution vector &#8216;x&#8217;.  If &#8216;b&#8217; is a
matrix, the system is solved for each column of &#8216;b&#8217; and the
return value is a matrix of the same shape as &#8216;b&#8217;.</p>
<p>This method is slower (approximately by a factor of 2) but
more stable for floating-point arithmetic than the LUsolve method.
However, LUsolve usually uses an exact arithmetic, so you don&#8217;t need
to use QRsolve.</p>
<p>This is mainly for educational purposes and symbolic matrices, for real
(or complex) matrices use sympy.mpmath.qr_solve.</p>
</dd></dl>

<dl class="attribute">
<dt id="sympy.matrices.matrices.Matrix.T">
<tt class="descname">T</tt><a class="headerlink" href="#sympy.matrices.matrices.Matrix.T" title="Permalink to this definition">¶</a></dt>
<dd>Matrix transposition.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.add">
<tt class="descname">add</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.add" title="Permalink to this definition">¶</a></dt>
<dd>Return self+b</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.adjugate">
<tt class="descname">adjugate</tt><big>(</big><em>method='berkowitz'</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.adjugate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the adjugate matrix.</p>
<p>Adjugate matrix is the transpose of the cofactor matrix.</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Adjugate">http://en.wikipedia.org/wiki/Adjugate</a></p>
<p>See also: .cofactorMatrix(), .T</p>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.applyfunc">
<tt class="descname">applyfunc</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.applyfunc" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="n">i</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>   
<span class="go">[0, 1]</span>
<span class="go">[2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">applyfunc</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>  
<span class="go">[0, 2]</span>
<span class="go">[4, 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.berkowitz">
<tt class="descname">berkowitz</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.berkowitz" title="Permalink to this definition">¶</a></dt>
<dd><p>The Berkowitz algorithm.</p>
<p>Given N x N matrix with symbolic content, compute efficiently
coefficients of characteristic polynomials of &#8216;self&#8217; and all
its square sub-matrices composed by removing both i-th row
and column, without division in the ground domain.</p>
<p>This method is particularly useful for computing determinant,
principal minors and characteristic polynomial, when &#8216;self&#8217;
has complicated coefficients e.g. polynomials. Semi-direct
usage of this algorithm is also important in computing
efficiently sub-resultant PRS.</p>
<p>Assuming that M is a square matrix of dimension N x N and
I is N x N identity matrix,  then the following following
definition of characteristic polynomial is begin used:</p>
<blockquote>
charpoly(M) = det(t*I - M)</blockquote>
<p>As a consequence, all polynomials generated by Berkowitz
algorithm are monic.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">x</span><span class="p">]</span> <span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">berkowitz</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">p</span> <span class="c"># 1 x 1 M&#39;s sub-matrix</span>
<span class="go">(1, -x)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">q</span> <span class="c"># 2 x 2 M&#39;s sub-matrix</span>
<span class="go">(1, -x, -y)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">r</span> <span class="c"># 3 x 3 M&#39;s sub-matrix</span>
<span class="go">(1, -2*x, -y - y*z + x**2, x*y - z**2)</span>
</pre></div>
</div>
<p>For more information on the implemented algorithm refer to:</p>
<dl class="docutils">
<dt>[1] S.J. Berkowitz, On computing the determinant in small</dt>
<dd>parallel time using a small number of processors, ACM,
Information Processing Letters 18, 1984, pp. 147-150</dd>
<dt>[2] M. Keber, Division-Free computation of sub-resultants</dt>
<dd>using Bezout matrices, Tech. Report MPI-I-2006-1-006,
Saarbrucken, 2006</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.berkowitz_charpoly">
<tt class="descname">berkowitz_charpoly</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.berkowitz_charpoly" title="Permalink to this definition">¶</a></dt>
<dd>Computes characteristic polynomial minors using Berkowitz method.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.berkowitz_det">
<tt class="descname">berkowitz_det</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.berkowitz_det" title="Permalink to this definition">¶</a></dt>
<dd>Computes determinant using Berkowitz method.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.berkowitz_eigenvals">
<tt class="descname">berkowitz_eigenvals</tt><big>(</big><em>**flags</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.berkowitz_eigenvals" title="Permalink to this definition">¶</a></dt>
<dd>Computes eigenvalues of a Matrix using Berkowitz method.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.berkowitz_minors">
<tt class="descname">berkowitz_minors</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.berkowitz_minors" title="Permalink to this definition">¶</a></dt>
<dd>Computes principal minors using Berkowitz method.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.charpoly">
<tt class="descname">charpoly</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.charpoly" title="Permalink to this definition">¶</a></dt>
<dd>Computes characteristic polynomial minors using Berkowitz method.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.col">
<tt class="descname">col</tt><big>(</big><em>j</em>, <em>f</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.col" title="Permalink to this definition">¶</a></dt>
<dd>Elementary column operation using functor</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.col_del">
<tt class="descname">col_del</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.col_del" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sympy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">sympy</span><span class="o">.</span><span class="n">matrices</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">col_del</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>   
<span class="go">[1, 0]</span>
<span class="go">[0, 0]</span>
<span class="go">[0, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.col_insert">
<tt class="descname">col_insert</tt><big>(</big><em>pos</em>, <em>mti</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.col_insert" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span><span class="p">,</span> <span class="n">zeros</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[0, 1, 2]</span>
<span class="go">[1, 2, 3]</span>
<span class="go">[2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span>
<span class="go">[0]</span>
<span class="go">[0]</span>
<span class="go">[0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">col_insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>
<span class="go">[0, 0, 1, 2]</span>
<span class="go">[1, 0, 2, 3]</span>
<span class="go">[2, 0, 3, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.col_join">
<tt class="descname">col_join</tt><big>(</big><em>bott</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.col_join" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenates two matrices along self&#8217;s last and bott&#8217;s first row</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="mi">3</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">col_join</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
<span class="go">[1, 2, 3]</span>
<span class="go">[2, 3, 4]</span>
<span class="go">[3, 4, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.conjugate">
<tt class="descname">conjugate</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.conjugate" title="Permalink to this definition">¶</a></dt>
<dd>By-element conjugation.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.det">
<tt class="descname">det</tt><big>(</big><em>method='bareis'</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.det" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the matrix determinant using the method &#8220;method&#8221;.</p>
<dl class="docutils">
<dt>Possible values for &#8220;method&#8221;:</dt>
<dd>bareis ... det_bareis
berkowitz ... berkowitz_det</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.det_bareis">
<tt class="descname">det_bareis</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.det_bareis" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute matrix determinant using Bareis&#8217; fraction-free
algorithm which is an extension of the well known Gaussian
elimination method. This approach is best suited for dense
symbolic matrices and will result in a determinant with
minimal number of fractions. It means that less term
rewriting is needed on resulting formulae.</p>
<p>TODO: Implement algorithm for sparse matrices (SFF).</p>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.eigenvals">
<tt class="descname">eigenvals</tt><big>(</big><em>**flags</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.eigenvals" title="Permalink to this definition">¶</a></dt>
<dd>Computes eigenvalues of a Matrix using Berkowitz method.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.eigenvects">
<tt class="descname">eigenvects</tt><big>(</big><em>**flags</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.eigenvects" title="Permalink to this definition">¶</a></dt>
<dd>Return list of triples (eigenval, multiplicity, basis).</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.eye">
<tt class="descname">eye</tt><big>(</big><em>n</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.eye" title="Permalink to this definition">¶</a></dt>
<dd>Returns the identity matrix of size n.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.fill">
<tt class="descname">fill</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.fill" title="Permalink to this definition">¶</a></dt>
<dd>Fill the matrix with the scalar value.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.get_diag_blocks">
<tt class="descname">get_diag_blocks</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.get_diag_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the square sub-matrices on the main diagonal of a square matrix.</p>
<p>Useful for inverting symbolic matrices or solving systems of
linear equations which may be decoupled by having a block diagonal
structure.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span><span class="p">,</span> <span class="n">symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">*</span><span class="n">z</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">get_diag_blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a1</span>
<span class="go">[1,    3]</span>
<span class="go">[y, z**2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a2</span>
<span class="go">[x]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a3</span>
<span class="go">[0]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.hash">
<tt class="descname">hash</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.hash" title="Permalink to this definition">¶</a></dt>
<dd>Compute a hash every time, because the matrix elements
could change.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.inv">
<tt class="descname">inv</tt><big>(</big><em>method='GE'</em>, <em>iszerofunc=&lt;function _iszero at 0x3a63a28&gt;</em>, <em>try_block_diag=False</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the matrix inverse.</p>
<p>According to the &#8220;method&#8221; parameter, it calls the appropriate method:</p>
<blockquote>
GE .... inverse_GE()
LU .... inverse_LU()
ADJ ... inverse_ADJ()</blockquote>
<p>According to the &#8220;try_block_diag&#8221; parameter, it will try to form block
diagonal matrices using the method get_diag_blocks(), invert these
individually, and then reconstruct the full inverse matrix.</p>
<p>Note, the GE and LU methods may require the matrix to be simplified
before it is inverted in order to properly detect zeros during
pivoting. In difficult cases a custom zero detection function can
be provided by setting the iszerosfunc argument to a function that
should return True if its argument is zero.</p>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.inverse_ADJ">
<tt class="descname">inverse_ADJ</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.inverse_ADJ" title="Permalink to this definition">¶</a></dt>
<dd>Calculates the inverse using the adjugate matrix and a determinant.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.inverse_GE">
<tt class="descname">inverse_GE</tt><big>(</big><em>iszerofunc=&lt;function _iszero at 0x3a63a28&gt;</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.inverse_GE" title="Permalink to this definition">¶</a></dt>
<dd>Calculates the inverse using Gaussian elimination.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.inverse_LU">
<tt class="descname">inverse_LU</tt><big>(</big><em>iszerofunc=&lt;function _iszero at 0x3a63a28&gt;</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.inverse_LU" title="Permalink to this definition">¶</a></dt>
<dd>Calculates the inverse using LU decomposition.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.jacobian">
<tt class="descname">jacobian</tt><big>(</big><em>X</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the Jacobian matrix (derivative of a vectorial function).</p>
<dl class="docutils">
<dt><em>self</em></dt>
<dd>A vector of expressions representing functions f_i(x_1, ..., x_n).</dd>
<dt><em>X</em></dt>
<dd>The set of x_i&#8217;s in order, it can be a list or a Matrix</dd>
</dl>
<p>Both self and X can be a row or a column matrix in any order
(jacobian() should always work).</p>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">rho</span><span class="p">,</span> <span class="n">phi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">rho</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">),</span> <span class="n">rho</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">phi</span><span class="p">),</span> <span class="n">rho</span><span class="o">**</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Y</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">rho</span><span class="p">,</span> <span class="n">phi</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">jacobian</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
</pre></div>
</div>
<p>[cos(phi), -rho*sin(phi)]
[sin(phi),  rho*cos(phi)]
[   2*rho,             0]
&gt;&gt;&gt; X = Matrix([rho*cos(phi), rho*sin(phi)])
&gt;&gt;&gt; X.jacobian(Y)
[cos(phi), -rho*sin(phi)]
[sin(phi),  rho*cos(phi)]</p>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.key2ij">
<tt class="descname">key2ij</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.key2ij" title="Permalink to this definition">¶</a></dt>
<dd>Converts key=(4,6) to 4,6 and ensures the key is correct.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.multiply">
<tt class="descname">multiply</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.multiply" title="Permalink to this definition">¶</a></dt>
<dd>Returns self*b</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.nullspace">
<tt class="descname">nullspace</tt><big>(</big><em>simplified=False</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.nullspace" title="Permalink to this definition">¶</a></dt>
<dd>Returns list of vectors (Matrix objects) that span nullspace of self</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.print_nonzero">
<tt class="descname">print_nonzero</tt><big>(</big><em>symb='X'</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.print_nonzero" title="Permalink to this definition">¶</a></dt>
<dd>Shows location of non-zero entries for fast shape lookup
&gt;&gt;&gt; from sympy import Matrix, matrices
&gt;&gt;&gt; m = Matrix(2,3,lambda i,j: i*3+j)
&gt;&gt;&gt; m           #doctest: +NORMALIZE_WHITESPACE
[0, 1, 2]
[3, 4, 5]
&gt;&gt;&gt; m.print_nonzero()   #doctest: +NORMALIZE_WHITESPACE
[ XX]
[XXX]
&gt;&gt;&gt; m = matrices.eye(4)
&gt;&gt;&gt; m.print_nonzero(&#8220;x&#8221;)    #doctest: +NORMALIZE_WHITESPACE
[x   ]
[ x  ]
[  x ]
[   x]</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.project">
<tt class="descname">project</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.project" title="Permalink to this definition">¶</a></dt>
<dd>Project onto v.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.reshape">
<tt class="descname">reshape</tt><big>(</big><em>_rows</em>, <em>_cols</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.reshape" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>   
<span class="go">[1, 1, 1]</span>
<span class="go">[1, 1, 1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>  
<span class="go">[1, 1, 1, 1, 1, 1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>  
<span class="go">[1, 1]</span>
<span class="go">[1, 1]</span>
<span class="go">[1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.row">
<tt class="descname">row</tt><big>(</big><em>i</em>, <em>f</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.row" title="Permalink to this definition">¶</a></dt>
<dd>Elementary row operation using functor</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.row_insert">
<tt class="descname">row_insert</tt><big>(</big><em>pos</em>, <em>mti</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.row_insert" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span><span class="p">,</span> <span class="n">zeros</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[0, 1, 2]</span>
<span class="go">[1, 2, 3]</span>
<span class="go">[2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span>
<span class="go">[0, 0, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">row_insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
<span class="go">[0, 0, 0]</span>
<span class="go">[1, 2, 3]</span>
<span class="go">[2, 3, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.row_join">
<tt class="descname">row_join</tt><big>(</big><em>rhs</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.row_join" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenates two matrices along self&#8217;s last and rhs&#8217;s first column</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="mi">3</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">row_join</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">[0, 1, 2, 3]</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="go">[2, 3, 4, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.rref">
<tt class="descname">rref</tt><big>(</big><em>simplified=False</em>, <em>iszerofunc=&lt;function _iszero at 0x3a63a28&gt;</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.rref" title="Permalink to this definition">¶</a></dt>
<dd><p>Take any matrix and return reduced row-echelon form and indices of pivot vars</p>
<p>To simplify elements before finding nonzero pivots set simplified=True</p>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.simplify">
<tt class="descname">simplify</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.simplify" title="Permalink to this definition">¶</a></dt>
<dd>Simplify the elements of a matrix in place.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.slice2bounds">
<tt class="descname">slice2bounds</tt><big>(</big><em>key</em>, <em>defmax</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.slice2bounds" title="Permalink to this definition">¶</a></dt>
<dd>Takes slice or number and returns (min,max) for iteration
Takes a default maxval to deal with the slice &#8216;:&#8217; which is (none, none)</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.submatrix">
<tt class="descname">submatrix</tt><big>(</big><em>keys</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.submatrix" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>   
<span class="go">[0, 1, 2, 3]</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="go">[2, 3, 4, 5]</span>
<span class="go">[3, 4, 5, 6]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>   
<span class="go">[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> 
<span class="go">[0]</span>
<span class="go">[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> 
<span class="go">[4, 5]</span>
<span class="go">[5, 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.tolist">
<tt class="descname">tolist</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.tolist" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Matrix converted in a python list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>
<span class="go">[0, 1, 2]</span>
<span class="go">[3, 4, 5]</span>
<span class="go">[6, 7, 8]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="go">[[0, 1, 2], [3, 4, 5], [6, 7, 8]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.transpose">
<tt class="descname">transpose</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix transposition.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span><span class="p">,</span> <span class="n">I</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">Matrix</span><span class="p">(((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">+</span><span class="n">I</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>  
<span class="go">[1, 2 + I]</span>
<span class="go">[3,     4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span> 
<span class="go">[    1, 3]</span>
<span class="go">[2 + I, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">T</span> <span class="o">==</span> <span class="n">m</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.vec">
<tt class="descname">vec</tt><big>(</big><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.vec" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Matrix converted into a one column matrix by stacking columns</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">Matrix</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>
<span class="go">[1, 3]</span>
<span class="go">[2, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">vec</span><span class="p">()</span>
<span class="go">[1]</span>
<span class="go">[2]</span>
<span class="go">[3]</span>
<span class="go">[4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.vech">
<tt class="descname">vech</tt><big>(</big><em>diagonal=True</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.vech" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the unique elements of a symmetric Matrix as a one column matrix by stacking
the elements in the lower triangle</p>
<p>diagonal ...... include the diagonal cells of self or not</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">Matrix</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>
<span class="go">[1, 2]</span>
<span class="go">[2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">vech</span><span class="p">()</span>
<span class="go">[1]</span>
<span class="go">[2]</span>
<span class="go">[3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">vech</span><span class="p">(</span><span class="n">diagonal</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.zero">
<tt class="descname">zero</tt><big>(</big><em>n</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.zero" title="Permalink to this definition">¶</a></dt>
<dd>Returns a n x n matrix of zeros.</dd></dl>

<dl class="method">
<dt id="sympy.matrices.matrices.Matrix.zeros">
<tt class="descname">zeros</tt><big>(</big><em>dims</em><big>)</big><a class="headerlink" href="#sympy.matrices.matrices.Matrix.zeros" title="Permalink to this definition">¶</a></dt>
<dd>Returns a dims = (d1,d2) matrix of zeros.</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/sympylogo.png" alt="Logo"/>
            </a></p>
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Matrices (linear algebra)</a><ul>
<li><a class="reference external" href="#creating-matrices">Creating Matrices</a></li>
<li><a class="reference external" href="#basic-manipulation">Basic Manipulation</a></li>
<li><a class="reference external" href="#operations-on-entries">Operations on entries</a></li>
<li><a class="reference external" href="#linear-algebra">Linear algebra</a></li>
<li><a class="reference external" href="#matrix-class-reference">Matrix Class Reference</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="logic.html"
                                  title="previous chapter">Logic Module</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="mpmath/index.html"
                                  title="next chapter">Welcome to mpmath&#8217;s documentation!</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/modules/matrices.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mpmath/index.html" title="Welcome to mpmath’s documentation!"
             >next</a> |</li>
        <li class="right" >
          <a href="logic.html" title="Logic Module"
             >previous</a> |</li>
        <li><a href="../index.html">SymPy v0.6.7 documentation</a> &raquo;</li>
          <li><a href="index.html" >SymPy Modules Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, 2009, 2010 SymPy Development Team.
      Last updated on Nov 12, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.
    </div>
  </body>
</html>